<!doctype html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Arcs Personal Tier List</title>
    <meta name="description" content="View my personal rankings for all leaders and lore cards, and create and share your own tier lists." />
    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Arcs Personal Tier List" />
    <meta property="og:description" content="View my personal rankings for all leaders and lore cards, and create and share your own tier lists." />
    <meta property="og:image" content="./favicon.svg" />
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Arcs Personal Tier List" />
    <meta name="twitter:description" content="View my personal rankings for all leaders and lore cards, and create and share your own tier lists." />
    <meta name="twitter:image" content="./favicon.svg" />
    <meta name="theme-color" content="#8b5cf6" />
    <link rel="icon" href="./favicon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="./assets/style.css" />
    <link rel="stylesheet" href="./assets/tierlist.css" />
    <style>
      html {
        scrollbar-width: none;
      }
      html::-webkit-scrollbar {
        display: none;
      }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <header class="header">
      <div class="container header-inner">
        <div>
          <h1 class="logo"><a href="./index" style="text-decoration:none;color:inherit">My Tier List</a></h1>
          <p class="tagline">View my personal rankings and create &amp; share your own tier lists</p>
        </div>
        <button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">
          <svg class="icon-sun" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
          </svg>
          <svg class="icon-moon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/>
          </svg>
        </button>
      </div>
    </header>

    <nav class="nav">
      <div class="container">
        <div class="tabs">
          <div class="main-tabs">
            <button class="tab active" data-tab="leaders">Leaders</button>
            <button class="tab" data-tab="lore">Lore</button>
            <button class="tab" data-tab="basecourt">Base Court</button>
          </div>
          <div id="leaderSubTabs" class="sub-tabs" style="display:none">
            <button class="sub-tab active" data-subtab="3p">3P</button>
            <button class="sub-tab" data-subtab="4p">4P</button>
          </div>
        </div>
        <div class="controls">
          <button id="editBtn" class="btn-compare">Edit</button>
          <button id="clearBtn" class="btn-compare" style="display:none">ğŸ—‘ï¸ Clear</button>
          <button id="importBtn" class="btn-compare" style="display:none">ğŸ“¥ Import</button>
          <button id="exportBtn" class="btn-compare" style="display:none">ğŸ“¤ Export</button>
          <button id="shareBtn" class="btn-compare" style="display:none">ğŸ”— Share</button>
          <button id="downloadBtn" class="btn-compare">â¬‡ Download PNG</button>
          <a href="./index" class="btn-compare">â† Home</a>
        </div>
      </div>
    </nav>

    <!-- Import Modal -->
    <div id="importModal" class="modal hidden">
      <div class="modal-backdrop" id="importModalBackdrop"></div>
      <div class="modal-content" style="max-width:560px">
        <button class="modal-close" id="importModalClose">âœ•</button>
        <div style="padding:24px">
          <h2 style="margin:0 0 12px">Import Tier List</h2>
          <p style="font-size:0.85rem;color:var(--text-muted);margin:0 0 16px">Paste CSV text (Name,Tier format - empty line separates 3P leaders, 4P leaders, and lore) or a published Google Sheets CSV URL.</p>
          <div style="margin-bottom:12px">
            <label style="font-size:0.85rem;font-weight:600;display:block;margin-bottom:4px">CSV URL (optional)</label>
            <input id="importUrl" type="text" placeholder="https://docs.google.com/spreadsheets/d/.../export?format=csv" style="width:100%;padding:8px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--bg-solid);color:var(--text);font-family:inherit;font-size:0.85rem;box-sizing:border-box" />
          </div>
          <div style="margin-bottom:16px">
            <label style="font-size:0.85rem;font-weight:600;display:block;margin-bottom:4px">Or paste CSV text</label>
            <textarea id="importText" rows="10" placeholder="Name,Tier&#10;Tool-Priests,S&#10;Galactic Rifles,A&#10;&#10;Name,Tier&#10;Admin Union,B&#10;...&#10;&#10;Name,Tier&#10;Tool-Priests,S&#10;..." style="width:100%;padding:8px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--bg-solid);color:var(--text);font-family:inherit;font-size:0.85rem;resize:vertical;box-sizing:border-box"></textarea>
          </div>
          <div style="display:flex;gap:8px;justify-content:flex-end">
            <button id="importCancelBtn" class="btn-compare">Cancel</button>
            <button id="importConfirmBtn" class="btn-compare" style="border-color:var(--accent);color:var(--accent)">Import</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Export Modal -->
    <div id="exportModal" class="modal hidden">
      <div class="modal-backdrop" id="exportModalBackdrop"></div>
      <div class="modal-content" style="max-width:560px">
        <button class="modal-close" id="exportModalClose">âœ•</button>
        <div style="padding:24px">
          <h2 style="margin:0 0 12px">Export Tier List</h2>
          <p style="font-size:0.85rem;color:var(--text-muted);margin:0 0 16px">Copy this CSV and share it. You can paste it into the Draft Helper's "Custom" tier source, or import it on this page.</p>
          <textarea id="exportText" rows="14" readonly style="width:100%;padding:8px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--bg-solid);color:var(--text);font-family:inherit;font-size:0.85rem;resize:vertical;box-sizing:border-box"></textarea>
          <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
            <button id="exportCopyBtn" class="btn-compare" style="border-color:var(--accent);color:var(--accent)">ğŸ“‹ Copy</button>
            <button id="exportCloseBtn" class="btn-compare">Close</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Share Modal -->
    <div id="shareModal" class="modal hidden">
      <div class="modal-backdrop" id="shareModalBackdrop"></div>
      <div class="modal-content" style="max-width:600px">
        <button class="modal-close" id="shareModalClose">âœ•</button>
        <div style="padding:24px">
          <h2 style="margin:0 0 12px">Share Tier List</h2>
          <p style="font-size:0.85rem;color:var(--text-muted);margin:0 0 16px">Select which tier lists to include in your shared URL and give them custom names.</p>
          
          <div id="shareSections" style="margin-bottom:16px">
            <!-- Sections will be populated by JavaScript -->
          </div>
          
          <div style="display:flex;gap:8px;justify-content:flex-end">
            <button id="shareCancelBtn" class="btn-compare">Cancel</button>
            <button id="shareConfirmBtn" class="btn-compare" style="border-color:var(--accent);color:var(--accent)">ğŸ”— Share</button>
          </div>
        </div>
      </div>
    </div>

    <main class="main">
      <div class="container">
        <div id="status" class="status">Loading tier listâ€¦</div>

        <section id="leaders3pSection" class="section">
          <div id="leaders3pTierList" class="personal-tier-list"></div>
        </section>

        <section id="leaders4pSection" class="section hidden">
          <div id="leaders4pTierList" class="personal-tier-list"></div>
        </section>

        <section id="loreSection" class="section hidden">
          <div id="loreTierList" class="personal-tier-list"></div>
        </section>

        <section id="basecourtSection" class="section hidden">
          <div id="basecourtTierList" class="personal-tier-list"></div>
        </section>
      </div>
    </main>

    <!-- Card Modal -->
    <div id="cardModal" class="modal hidden">
      <div class="modal-backdrop"></div>
      <div class="modal-content">
        <button class="modal-close">âœ•</button>
        <div class="modal-body">
          <div class="modal-image">
            <img id="modalImg" src="" alt="" />
          </div>
          <div class="modal-info">
            <h2 id="modalName" class="modal-name"></h2>
            <div id="modalText" class="modal-text"></div>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer">
      <div class="container">
        <p><a href="./data">Data Arsenal</a> Â· <a href="./dice">Dice Calculator</a> Â· <a href="./custom-cards">Custom Cards</a> Â· <a href="./index">Home</a></p>
      </div>
    </footer>

    <script type="module" src="./assets/tierlist-app.js"></script>
  </body>
</html>
